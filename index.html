<html>
<head>
  <style>
  html, body { width: 100%; height: 100%; background: #000; color: #fff; }
  body { margin: 0; overflow: hidden; }
  canvas { width: 100%; height: 100%; }
  </style>
</head>
<body>

  <h1>Please wait while the OBJ file loads</h1>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/88/three.min.js'></script>
  <script src='https://threejs.org/examples/js/controls/TrackballControls.js'></script>
  <script src='https://mamboleoo.be/learnThree/demos/OBJLoader.js'></script>
  <script src="https://threejs.org/examples/js/loaders/MTLLoader.js"></script>


  <script>

  // Scene  BG color

  function getScene() {
    const scene = new THREE.Scene();
    scene.background = new THREE.Color('black');
    return scene;
  }

// Create the Camera for the object

  function getCamera() {
    const aspectRatio = window.innerWidth / window.innerHeight;
    const camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 10000);
    camera.position.set(-50, 50, 150);
    return camera;
  }

// Generate Lighting for the object

  function getLight(scene) {
      const ambientLight = new THREE.AmbientLight( 0xffffff, 1 );
      scene.add( ambientLight );

      const frontLight = new THREE.DirectionalLight( 0xffffff, 1 );
      frontLight.position.set( 10, 10, 10 );

      const backLight = new THREE.DirectionalLight( 0xffffff, 1 );
      backLight.position.set( -10, 10, -10 );

      scene.add( frontLight, backLight );
  }


  //Generate the renderer to be used in the scene


  function getRenderer() {
    // Create the canvas with a renderer
    const renderer = new THREE.WebGLRenderer({antialias: true});
    // Add support for retina displays
    renderer.setPixelRatio(window.devicePixelRatio);
    // Specify the size of the canvas
    renderer.setSize(window.innerWidth, window.innerHeight);
    // Add the canvas to the DOM
    document.body.appendChild(renderer.domElement);
    return renderer;
  }


  function getControls(camera, renderer) {
    const controls = new THREE.TrackballControls(camera, renderer.domElement);
    controls.zoomSpeed = 2;
    controls.panSpeed = 2;
    return controls;
  }

 //Load OBJ model
  function loadModel() {
    var textureLoader = new THREE.TextureLoader();
    var map = textureLoader.load('models/BaymaxWhiteOBJ/EyesWhiteDark.jpg');
    var material = new THREE.MeshPhongMaterial({map: map});

    var loader = new THREE.OBJLoader();
    loader.load( 'models/BaymaxWhiteOBJ/Bigmax_White_OBJ.obj', function ( object ) {

  // For any meshes in the model, add our material.
    object.traverse( function ( node ) {

    if ( node.isMesh ) node.material = material;

  } );

  // Add the model to the scene.
  scene.add( object );
} );
  }

  //Render the scene

  function render() {
    requestAnimationFrame(render);
    renderer.render(scene, camera);
    controls.update();
  };

  const scene = getScene();
  const camera = getCamera();
  const light = getLight(scene);
  const renderer = getRenderer();
  const controls = getControls(camera, renderer);

  loadModel()

  render();
  </script>
</body>
</html>
